
<h3 class="text-center">
  <span class="section-title"><%= t("task.title") %></span>
</h3>

<div class="text-center">
  <% if policy(@wedding).edit? %>
    <div>
      <%= link_to t("task.add"), new_wedding_task_path(@wedding), class: "button button-show"  %>
      <%= link_to t("task.initialize"), wedding_initialize_tasks_path(@wedding), data: { confirm: t("task.initialize-confirmation") } ,class: "button button-show" %>
    </div>
  <% end %>
</div>

<div class= tasklist>
  <div class="row">
    <ul class="tasks">
      <% wedding.tasks.each do |task| %>
        <%= link_to wedding_task_path(wedding, task) do %>
        <div class="col-xs-6 col-md-3">
          <li class="task">
            <div class="taskname button">
              <strong> <%= task.name %> </strong>
              <div class="tasknotification">
                <% if wedding.user == current_user %>
                  <% if task.messages.where(read: false).count == 0 %>

                  <% elsif task.messages.where(read: false).count == 1%>
                    <%= task.messages.where(read: false).count %> message
                  <% else %>
                    <%= task.messages.where(read: false).count %> messages
                  <% end %>
                <% else %>

                <% end %>
                  <div class= statut>
                    <% if task.statut %>
                      <i class="fa fa-check"></i>
                    <% else %>
                      <i class="fa fa-hourglass-half"></i>
                    <% end %>
                  </div>
              </div>
            </div>
            <% end %>
          </li>
        </div>
      <% end %>
    </ul>
  </div>
</div>




<!-- pour ajouter icons


<script>




const list = document.getElementById("tasks-list")
const taskItems = list.querySelectorAll("l")

console.log(taskItems);

taskItems.addEventListener("click", (event) => {
  event.currentTarget.toggleClass("active")
});

</script>
 -->
